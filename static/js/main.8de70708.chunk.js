(this["webpackJsonpstore-poveda-natalia"]=this["webpackJsonpstore-poveda-natalia"]||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/header.68402e78.png"},36:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACbSURBVHgBrZRhDQIxDIUfM8CmYMMBErCEBBQh4SScBSQMBaWF/qMXuO19SZNmTV9f2mRAgIg0jUW+uVst6kmIWTS6Rjk4mp80nl77jU68+PQW1LLXzv86gpp4BG/d04wNF6uMs76HuJBgnK5OC0PIKGnrnDs52rIb5ikJHBrLUaYKMaA5qiZUMQ/tapW67Ix5uFe74fMbjmK91xfvRYfYMh66SAAAAABJRU5ErkJggg=="},41:function(e,t,a){e.exports=a.p+"static/media/orange1.f227d745.gif"},42:function(e,t,a){e.exports=a.p+"static/media/orange2.7a1d4b8f.gif"},48:function(e,t,a){e.exports=a(61)},53:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),o=(a(53),a(18)),l=a(5),i=r.a.createContext(),u={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q"};function m(e){var t=e.children,a=Object(n.useState)(null),c=Object(l.a)(a,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/me",{method:"GET",headers:u}).then((function(e){if(!e.ok)throw Error(e.statusText);return console.log("response",e),e})).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),r.a.createElement(i.Provider,{value:{user:s,setUser:o}},t)}var p=a(34),d=a.n(p),E=function(){var e=Object(n.useContext)(i).user,t="",a="";return null!=e&&(t=e.name,a=e.points),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"top box"},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"nav-content"},r.a.createElement(o.a,null,r.a.createElement("ul",{className:"tabs tabs-transparent"},r.a.createElement("li",{className:"tab",key:"h00"},r.a.createElement(o.b,{key:"header00",to:""},r.a.createElement("div",{className:"umenu"},"Home"))),r.a.createElement("li",{className:"tab",key:"h01"},r.a.createElement(o.b,{key:"header01",to:"user"},r.a.createElement("div",{className:"umenu"},"User Space")))))),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"namexUser"},t),r.a.createElement("div",{className:"points"},r.a.createElement("div",{className:"rectangle"},r.a.createElement("div",{className:"number"},a),r.a.createElement("div",{className:"money"}))))),r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:d.a,alt:"header headphones"})))},f=a(2),v=a(19),h=a(3),b=a.n(h),g=a(12);function j(e){return O.apply(this,arguments)}function O(){return(O=Object(g.a)(b.a.mark((function e(t){var a,n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={amount:t}," eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q",n={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q"},e.prev=3,e.next=6,fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",body:JSON.stringify(a),headers:n});case 6:return r=e.sent,e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(3),console.log("Error ==> ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function A(e){return y.apply(this,arguments)}function y(){return(y=Object(g.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.next=3,j(t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e,t){var a=null,n=e.m1000,r=e.m5000,c=e.m7500,s=t.points;if("eventChange"===t.type){switch(t.id){case"m1000":a={m1000:!0,m5000:!1,m7500:!1,disabled:!1,points:s};break;case"m5000":a={m1000:!1,m5000:!0,m7500:!1,disabled:!1,points:s};break;case"m7500":a={m1000:!1,m5000:!1,m7500:!0,disabled:!1,points:s};break;default:a={m1000:!1,m5000:!1,m7500:!1,disabled:!1,points:s}}return a}if("handleChangePoints"===t.type){var o=0;n?o=1e3:r?o=5e3:c&&(o=7500);var l={m1000:!1,m5000:!1,m7500:!1,disabled:!0,points:s+o};return Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(o);case 2:"Points Updated"===(t=e.sent).message&&(s=t["New Points"],l={m1000:!1,m5000:!1,m7500:!1,disabled:!0,points:s});case 4:case"end":return e.stop()}}),e)})))(),l}},N=a(36),C=a.n(N);function M(e){return x.apply(this,arguments)}function x(){return(x=Object(g.a)(b.a.mark((function e(t){var a,n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={productId:t},n={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q"},e.prev=2,e.next=5,fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",body:JSON.stringify(a),headers:n});case 5:return r=e.sent,e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(2),console.log("Error ==> ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=Object(g.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.next=3,M(t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e,t){if("eventRedeem"===t.type){var a,n=e.cost,r=t.id,c=t.points,s=null;return s={cost:n,points:a=c-n,active:1,type:"success"},Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r);case 2:e.sent||(s={cost:n,points:a,active:1,type:"success"});case 4:case"end":return e.stop()}}),e)})))(),s}var o;if("orderByCost"===t.type)return{changed:1,products:((o=t.prodsShow).sort((function(e,t){return e.cost>t.cost?1:e.cost<t.cost?-1:0})),o)}},J=r.a.createContext(),R={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q"};function U(e){var t=e.children,a=Object(n.useState)(null),c=Object(l.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(null),u=Object(l.a)(i,2),m=u[0],p=u[1],d=function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET",headers:R});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,d("https://coding-challenge-api.aerolab.co/products");case 3:e.t1=e.sent,(0,e.t0)(e.t1),p({active:0,type:"success"});case 6:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(J.Provider,{value:{products:s,setProducts:o,modal:m,setModal:p}},t)}var B=function(e){var t=e.urlImages,a=e.category,c=e.name,s=e.cost,o=e.points,u=e.redeem,m=e.id,p=Object(n.useContext)(J).setModal,d=Object(n.useContext)(i),E=d.user,f=d.setUser,h={cost:s,points:o,active:0,type:"wrong"},b=Object(n.useCallback)(w,[]),g=Object(n.useReducer)(b,h),j=Object(l.a)(g,2),O=j[0],A=j[1];return Object(n.useEffect)((function(){null!=O&&(p({active:O.active,type:O.type}),f(Object(v.a)(Object(v.a)({},E),{},{points:O.points})))}),[O]),r.a.createElement("div",{className:"product-card"},u&&r.a.createElement("div",{className:"IconExchange"},s<=o?r.a.createElement("div",{className:"Icon"},r.a.createElement("img",{src:C.a,alt:"bagShape Icon"})):r.a.createElement("div",{className:"IconYouneed"},r.a.createElement("p",null,"You need ",s-o),r.a.createElement("div",{className:"money"}))),r.a.createElement("div",{className:"photo line"},r.a.createElement("img",{src:t,alt:c})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"category"},a),r.a.createElement("div",{className:"name-product"},c," ",r.a.createElement("span",null,"cost: ",s))),s<=o&&r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"infoover"},r.a.createElement("h3",null,s),r.a.createElement("div",{className:"text",onClick:function(){return A({type:"eventRedeem",points:o,id:m})}},r.a.createElement("p",null,"Redeem Now")," ",r.a.createElement("div",{className:"money"})," "))))},S=a(76),Q=a(75);var Y=function(e,t){var a=Object(n.useState)(1),r=Object(l.a)(a,2),c=r[0],s=r[1],o=0;return null!=e&&(o=Math.ceil(e.length/t)),{next:function(){s((function(e){return Math.min(e+1,o)}))},prev:function(){s((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);s((function(e){return Math.min(t,o)}))},currentData:function(){var a=(c-1)*t,n=a+t;return null!=e?e.slice(a,n):[]},currentPage:c,maxPage:o}},P=function(){var e=Object(n.useContext)(i),t=e.user,a=e.setUser,c=0;null!=t&&(c=t.points);var s={m1000:!1,m5000:!1,m7500:!1,disabled:!0,points:c},o=Object(n.useCallback)(I,[]),u=Object(n.useReducer)(o,s),m=Object(l.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(1),f=Object(l.a)(E,2),h=f[0],b=f[1],g=p.m1000,j=p.m5000,O=p.m7500,A=p.disabled,y=null,N=0,C=null;null!=t&&(y=t.redeemHistory,N=Math.ceil(y.length/16));Object(n.useEffect)((function(){null!=t&&a(Object(v.a)(Object(v.a)({},t),{},{points:p.points}))}),[p]),C=Y(y,16);return r.a.createElement("div",null,r.a.createElement("div",{className:"container centered"},r.a.createElement("div",{className:"white "},r.a.createElement("div",{className:"white-form"},r.a.createElement("form",{className:"custom-form"},r.a.createElement("span",null,"1000 Points"),r.a.createElement("input",{id:"m1000",name:"m1000",type:"checkbox",checked:g,onChange:function(){return d({type:"eventChange",id:"m1000",points:c})}}),r.a.createElement("span",null,"5000 Points"),r.a.createElement("input",{id:"m5000",name:"m5000",type:"checkbox",checked:j,onChange:function(){return d({type:"eventChange",id:"m5000",points:c})}}),r.a.createElement("span",null,"7500 Points"),r.a.createElement("input",{id:"m7500",name:"m7500",type:"checkbox",checked:O,onChange:function(){return d({type:"eventChange",id:"m7500",points:c})}}),r.a.createElement("button",{disabled:A,className:"btn ".concat(A?"disabled":"active"),onClick:function(){return d({type:"handleChangePoints",points:c})}},"Add Points"))),r.a.createElement("div",{className:"history products"},r.a.createElement(S.a,{p:"5"},r.a.createElement("div",{className:"containerCards"},C.currentData().map((function(e,t){return r.a.createElement(B,{urlImages:e.img.url,category:e.category,name:e.name,date:e.createDate,cost:e.cost,redeem:!1,key:t})}))),r.a.createElement(Q.a,{count:N,size:"large",page:h,variant:"outlined",shape:"rounded",onChange:function(e,t){b(t),C.jump(t)}}))))))},V=a(41),X=a.n(V),z=a(42),H=a.n(z),W=function(){console.log("Modal");var e=Object(n.useContext)(J),t=e.modal,a=e.setModal,c="",s="";return null!=t&&(c=t.active,s=t.type),r.a.createElement("div",{className:"fondo_transparente ".concat(c?"active":"no-active")},r.a.createElement("div",{className:"modal"},"success"===s?r.a.createElement("div",{className:"interna ".concat(s)},r.a.createElement("img",{src:X.a,alt:"success"}),r.a.createElement("h1",null,"Success!!"),r.a.createElement("p",null,"Yes! You wanted it, You got it!"),r.a.createElement("button",{className:"success",onClick:function(){return a({active:0,type:"wrong"})}},"CONTINUE!")):r.a.createElement("div",{className:"interna ".concat(s)},r.a.createElement("img",{src:H.a,alt:"error"}),r.a.createElement("h1",null,"Error!!"),r.a.createElement("p",null,"Sorry! Something went wrong!"),r.a.createElement("button",{className:"wrong",onClick:function(){return a({active:0,type:"wrong"})}},"TRY AGAIN!"))))},G=function(){var e=Object(n.useContext)(i).user,t=Object(n.useContext)(J).products,a=Object(n.useState)("All"),c=Object(l.a)(a,2),s=c[0],o=c[1],u=Object(n.useState)(1),m=Object(l.a)(u,2),p=m[0],d=m[1],E=0,f=0,v=null;console.log("PRODHOMEALL",t);var h=t,b=Object(n.useState)(h),g=Object(l.a)(b,2),j=g[0],O=g[1];Object(n.useEffect)((function(){console.log("PRODHOME22",t),null!=t&&O(t)}),[t]),null!=e&&(f=e.points);var A={changed:0,products:j},y=Object(n.useReducer)(w,A),I=Object(l.a)(y,2),N=I[0],C=I[1];Object(n.useEffect)((function(){null!=N&&(O(N.products),o("All"))}),[N]);null!=j&&(E=Math.ceil(j.length/16)),v=Y(j,16);return r.a.createElement("div",{className:"history products"},r.a.createElement("div",{className:"white-form"},r.a.createElement("div",{className:"custom-form"},r.a.createElement("button",{className:"btn active",onClick:function(){return C({type:"orderByCost",prodsShow:j})}},"By Cost"),r.a.createElement("select",{className:"form-control form-control-sm",value:s,onChange:function(e){var a=[],n=e.target.value;o(n),h=t,"All"!==n?(console.log("No entiendo"),h.filter((function(e){return e.category.replace(/&/,"Y")===n&&a.push(e),a}))):(a=h,o("All")),O(a)},name:"category"},r.a.createElement("option",{className:"bi-geo",value:"All"},"Categories"),r.a.createElement("option",{value:"Phones"},"Phones"),r.a.createElement("option",{value:"Gaming"},"Gaming"),r.a.createElement("option",{value:"Laptops"},"Laptops"),r.a.createElement("option",{value:"Tablets Y E-readers"},"Tablets Y E-readers"),r.a.createElement("option",{value:"Audio"},"Audio"),r.a.createElement("option",{value:"Monitors Y TV"},"Monitors Y TV"),r.a.createElement("option",{value:"PC Accesories"},"PC Accesories"),r.a.createElement("option",{value:"Drones"},"Drones"),r.a.createElement("option",{value:"Phone Accessories"},"Phone Accessories"),r.a.createElement("option",{value:"Cameras"},"Cameras")),r.a.createElement("button",{className:"btn active",onClick:function(){O(h),o("All")}},"Reset"))),r.a.createElement(S.a,{p:"5"},r.a.createElement("div",{className:"containerCards"},t&&v.currentData().map((function(e,t){return r.a.createElement(B,{urlImages:e.img.url,category:e.category,name:e.name,date:e.createDate,cost:e.cost,points:f,redeem:1,id:e._id,key:t})}))),r.a.createElement(Q.a,{count:E,size:"large",page:p,variant:"outlined",shape:"rounded",onChange:function(e,t){d(t),v.jump(t)}})),r.a.createElement(W,null))},L=function(){return r.a.createElement("main",{className:"main"},r.a.createElement(o.a,{basename:"/store-natalia-poveda"},r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",component:G,exact:!0}),r.a.createElement(f.a,{path:"/user",component:P,exact:!0}))))};var Z=function(){return r.a.createElement(m,null,r.a.createElement(U,null,r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(L,null))))},D=document.getElementById("root");s.a.render(r.a.createElement(Z,null),D)}},[[48,1,2]]]);
//# sourceMappingURL=main.8de70708.chunk.js.map