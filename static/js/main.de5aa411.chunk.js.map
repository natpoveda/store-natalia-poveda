{"version":3,"sources":["contexts/contextProviderHeader.js","components/Header.js","reducers/userReducer.js","components/User.js","components/Main.js","App.js","index.js"],"names":["HeaderContext","React","createContext","headers","Authorization","String","HeaderProvider","children","useState","user","setUser","console","log","useEffect","fetch","method","then","response","ok","Error","statusText","json","Provider","value","Header","useContext","name","points","className","addPoint","amount","a","data","s_obj","body","JSON","stringify","reducer","state","action","sForm","m1000","m5000","m7500","type","id","disabled","getPromise","User","useReducer","dispatch","mm","redeemHistory","slice","checked","onChange","onClick","Main","exact","path","render","match","component","App","rootElement","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.de5aa411.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\n\r\nexport const HeaderContext = React.createContext();\r\n\r\n//let s_obj = new String(\" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q\");\r\nlet s_obj = new String(\" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk\");\r\nconst headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: \"Bearer\" + s_obj\r\n}\r\n\r\nexport default function HeaderProvider({children}){\r\n    const [user, setUser] = useState(null);\r\n\r\n    console.log(\"headers\",headers);\r\n    useEffect(() => {\r\n     fetch(\"https://coding-challenge-api.aerolab.co/user/me\",{\r\n        method: \"GET\",\r\n        headers\r\n      })\r\n    .then((response)=>{\r\n        if (!response.ok){\r\n            throw Error(response.statusText);\r\n        }\r\n       console.log(\"response\",response);\r\n        return response;\r\n    })\r\n    .then((response) => response.json())\r\n    .then((user)=>setUser(user));\r\n     },[]);\r\n\r\n\r\n    /*\r\n    useEffect(() => {\r\n        // Create an scoped async function in the hook\r\n        async function getPromise() {\r\n            user_response = await getUser();\r\n            console.log(\"UR\",user_response);\r\n            setUser(user_response);\r\n        }\r\n        // Execute the created function directly\r\n        getPromise();\r\n    }, []);\r\n\r\n     async function getUser(){\r\n        try {\r\n            let response = await  fetch(\"https://coding-challenge-api.aerolab.co/user/me\",{\r\n                method: \"GET\",\r\n                headers\r\n              })\r\n            let json = await response.json()\r\n            return json;\r\n        } catch (err) {\r\n            console.log(\"Error ==> \", err)\r\n        }\r\n    }       \r\n    */ \r\n    return (\r\n        <HeaderContext.Provider value={{user,setUser}}>\r\n            {children}\r\n        </HeaderContext.Provider>\r\n    );\r\n}","import React, {useContext} from 'react';\r\nimport HeaderProvider from '../contexts/contextProviderHeader';\r\nimport {HeaderContext} from '../contexts/contextProviderHeader';\r\n\r\nconst Header = () => {\r\n\r\n    const {user, setUser} = useContext(HeaderContext);\r\n    let name = '';\r\n    let points = '';\r\n\r\n    if(user != null)\r\n    {\r\n      name = user.name;\r\n      points = user.points;\r\n    }\r\n    console.log(\"userHeaderHeaders\", user);\r\n    \r\n    return (\r\n        <div className=\"top box\">\r\n            \r\n            <div className=\"logo\"></div>\r\n            <div className=\"profile\">\r\n                <div className=\"namexUser\">\r\n                   {name}\r\n                </div>\r\n                <div className=\"points\">\r\n                    <div className=\"rectangle\">\r\n                        <div className=\"number\">\r\n                            {points}\r\n                        </div>\r\n                        <div className=\"money\">\r\n                        </div>\r\n                    </div>    \r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default Header;","function reducer(state, action) {\r\n  let sForm = null;\r\n  const { m1000, m5000, m7500 } = state;  \r\n  if (action.type === \"eventChange\") {\r\n    switch (action.id) {\r\n      case \"m1000\":\r\n        sForm = { m1000: true, m5000: false, m7500: false, disabled: false };\r\n        break;\r\n      case \"m5000\":\r\n        sForm = { m1000: false, m5000: true, m7500: false, disabled: false };\r\n        break;\r\n      case \"m7500\":\r\n        sForm = { m1000: false, m5000: false, m7500: true, disabled: false };\r\n        break;\r\n    }\r\n\r\n    return sForm;\r\n  }\r\n\r\n  if (action.type === \"handleChangePoints\") {\r\n    \r\n    console.log(\"HandleChangePoints\");\r\n    let amount = 0;\r\n    if (m1000) {\r\n      amount = 1000;\r\n    } else if (m5000) {\r\n      amount = 5000;\r\n    } else if (m7500) {\r\n      amount = 7500;\r\n    }\r\n\r\n    getPromise(amount);\r\n\r\n    return { m1000: false, m5000: false, m7500: false, disabled: true };\r\n  }\r\n}\r\n\r\nasync function addPoint(amount) {\r\n  let data = { amount };\r\n  let s_obj = new String(\r\n    \" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk\"\r\n  );\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: \"Bearer\" + s_obj,\r\n  };\r\n\r\n  try {\r\n    let response = await fetch(\r\n      \"https://coding-challenge-api.aerolab.co/user/points\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n        headers,\r\n      }\r\n    );\r\n    let json = await response.json();\r\n    return json;\r\n  } catch (err) {\r\n    console.log(\"Error ==> \", err);\r\n  }\r\n}\r\n\r\nasync function getPromise(amount) {\r\n  let user_response = null;\r\n  user_response = await addPoint(amount);\r\n}\r\n\r\nexport default reducer;\r\n","import React, { useState, useEffect, useContext, useReducer } from \"react\";\r\nimport { HeaderContext } from \"../contexts/contextProviderHeader\";\r\nimport reducer from \"../reducers/userReducer\";\r\n\r\nconst User = () => {\r\n  const { user, setUser } = useContext(HeaderContext);\r\n\r\n  console.log(\"Useruser\", user);\r\n  const estadoForm = {\r\n    m1000: false,\r\n    m5000: false,\r\n    m7500: false,\r\n    disabled : true\r\n  };\r\n\r\n\r\n  const [state, dispatch] = useReducer(reducer, estadoForm);\r\n  const {m1000,m5000,m7500,disabled} = state;\r\n\r\n if (user != null){\r\n     let mm = user.redeemHistory;\r\n     console.log(\"MM\",mm.slice(0, 10));\r\n }\r\n  \r\n  return (\r\n    <div>\r\n      <div className=\"container centered\">\r\n        <div className=\"white \">\r\n          <form className=\"custom-form\">\r\n            <span>1000 Points</span>\r\n            <input\r\n              id=\"m1000\"\r\n              name=\"m1000\"\r\n              type=\"checkbox\"\r\n              checked={m1000}\r\n              onChange={() => dispatch({ type: \"eventChange\" , id:\"m1000\"})}\r\n            />\r\n            <span>5000 Points</span>\r\n            <input\r\n              id=\"m5000\"\r\n              name=\"m5000\"\r\n              type=\"checkbox\"\r\n              checked={m5000}\r\n              onChange={() => dispatch({ type: \"eventChange\" , id:\"m5000\"})}\r\n            />\r\n            <span>7500 Points</span>\r\n            <input\r\n              id=\"m7500\"\r\n              name=\"m7500\"\r\n              type=\"checkbox\"\r\n              checked={m7500}\r\n              onChange={() => dispatch({ type: \"eventChange\" , id:\"m7500\"})}\r\n            />\r\n\r\n            <button\r\n              disabled={disabled}\r\n              className={`btn ${disabled ? \"disabled\" : \"\"}`}\r\n              onClick={() => dispatch({ type: \"handleChangePoints\"})}\r\n            >\r\n              Add Points\r\n            </button>\r\n          </form>\r\n\r\n           <div className=\"history\">\r\n\r\n            </div> \r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport User from './User';\r\n\r\n\r\nconst Main = () =>{\r\n    return (\r\n        <main className=\"main\">\r\n        <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          render={({ match }) => {\r\n            return <div>Home</div>;\r\n          }}\r\n        />\r\n        <Route\r\n          path=\"/posts\"\r\n          component={User}\r\n        />\r\n        </Switch>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport User from './components/User';\nimport HeaderProvider from './contexts/contextProviderHeader';\n\nfunction App() {\n  return (\n    <HeaderProvider>\n      <div className=\"App\">\n      <Header/>\n      <Main/>\n      </div>\n    </HeaderProvider>\n    \n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  rootElement\n);\n\n\n"],"sourceRoot":""}