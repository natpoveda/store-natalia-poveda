(this["webpackJsonpstore-poveda-natalia"]=this["webpackJsonpstore-poveda-natalia"]||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/header.68402e78.png"},36:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACbSURBVHgBrZRhDQIxDIUfM8CmYMMBErCEBBQh4SScBSQMBaWF/qMXuO19SZNmTV9f2mRAgIg0jUW+uVst6kmIWTS6Rjk4mp80nl77jU68+PQW1LLXzv86gpp4BG/d04wNF6uMs76HuJBgnK5OC0PIKGnrnDs52rIb5ikJHBrLUaYKMaA5qiZUMQ/tapW67Ix5uFe74fMbjmK91xfvRYfYMh66SAAAAABJRU5ErkJggg=="},41:function(e,t,n){e.exports=n.p+"static/media/orange1.f227d745.gif"},42:function(e,t,n){e.exports=n.p+"static/media/orange2.7a1d4b8f.gif"},48:function(e,t,n){e.exports=n(61)},53:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),o=(n(53),n(6)),i=r.a.createContext(),l={"Content-Type":"application/json",Authorization:"Bearer"+new String(" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q")};function u(e){var t=e.children,n=Object(a.useState)(null),c=Object(o.a)(n,2),s=c[0],u=c[1];return Object(a.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/me",{method:"GET",headers:l}).then((function(e){if(!e.ok)throw Error(e.statusText);return console.log("response",e),e})).then((function(e){return e.json()})).then((function(e){return u(e)}))}),[]),r.a.createElement(i.Provider,{value:{user:s,setUser:u}},t)}var m=n(34),p=n.n(m),d=function(){var e=Object(a.useContext)(i),t=e.user,n=(e.setUser,""),c="";return null!=t&&(n=t.name,c=t.points),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"top box"},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"namexUser"},n),r.a.createElement("div",{className:"points"},r.a.createElement("div",{className:"rectangle"},r.a.createElement("div",{className:"number"},c),r.a.createElement("div",{className:"money"}))))),r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:p.a})))},f=n(27),E=n(2),v=n(18),g=n(3),h=n.n(g),b=n(12);function j(e){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(h.a.mark((function e(t){var n,a,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={amount:t},a=new String(" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q"),r={"Content-Type":"application/json",Authorization:"Bearer"+a},e.prev=3,e.next=6,fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",body:JSON.stringify(n),headers:r});case 6:return c=e.sent,e.next=9,c.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(3),console.log("Error ==> ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,j(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e,t){var n=null,a=e.m1000,r=e.m5000,c=e.m7500,s=t.points;if("eventChange"===t.type){switch(t.id){case"m1000":n={m1000:!0,m5000:!1,m7500:!1,disabled:!1,points:s};break;case"m5000":n={m1000:!1,m5000:!0,m7500:!1,disabled:!1,points:s};break;case"m7500":n={m1000:!1,m5000:!1,m7500:!0,disabled:!1,points:s}}return n}if("handleChangePoints"===t.type){console.log("HandleChangePoints");var o=0;a?o=1e3:r?o=5e3:c&&(o=7500);var i={m1000:!1,m5000:!1,m7500:!1,disabled:!0,points:s+o};return Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(o);case 2:"Points Updated"===(t=e.sent).message&&(s=t["New Points"],i={m1000:!1,m5000:!1,m7500:!1,disabled:!0,points:s});case 4:case"end":return e.stop()}}),e)})))(),i}},N=n(36),C=n.n(N);function M(e){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(h.a.mark((function e(t){var n,a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={productId:t},a={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q"},e.prev=2,e.next=5,fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",body:JSON.stringify(n),headers:a});case 5:return r=e.sent,e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(2),console.log("Error ==> ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function w(e){return T.apply(this,arguments)}function T(){return(T=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,M(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e,t){var n=e.cost;if("eventRedeem"===t.type){var a,r=t.id;return a={cost:n,points:t.points-n,active:1,type:"success"},Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(r);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))(),a}},U=r.a.createContext(),J={"Content-Type":"application/json",Authorization:"Bearer"+new String(" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjQ4MjE0Yjc0MjM1MjAwMWVkOTA5OTIiLCJpYXQiOjE1OTg1NjI2MzV9.2HuMRmZHgJRgUETrIXAli97SnBBy_IU_8fKFT4TmE3Q")};function S(e){var t=e.children,n=Object(a.useState)(null),c=Object(o.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)(null),u=Object(o.a)(l,2),m=u[0],p=u[1],d=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET",headers:J});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,d("https://coding-challenge-api.aerolab.co/products");case 3:e.t1=e.sent,(0,e.t0)(e.t1),p({active:0,type:"wrong"});case 6:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(U.Provider,{value:{products:s,setProducts:i,modal:m,setModal:p}},t)}var B=function(e){var t=e.urlImages,n=e.category,c=e.name,s=e.cost,l=e.points,u=e.redeem,m=e.id;console.log("Redeem",u);var p=Object(a.useContext)(U),d=(p.modal,p.setModal),f=Object(a.useContext)(i),E=f.user,g=f.setUser,h={cost:s,points:l,active:0,type:"wrong"};console.log("ESTADO ITEMS",h);var b=Object(a.useCallback)(k,[]),j=Object(a.useReducer)(b,h),O=Object(o.a)(j,2),A=O[0],I=O[1];return Object(a.useEffect)((function(){null!=A&&(console.log("entro a state"),d({active:A.active,type:A.type}),g(Object(v.a)(Object(v.a)({},E),{},{points:A.points})))}),[A]),console.log("STATEITEM3",E),r.a.createElement("div",{className:"product-card"},u&&r.a.createElement("div",{className:"IconExchange"},s<=l?r.a.createElement("div",{className:"Icon"},r.a.createElement("img",{src:C.a})):r.a.createElement("div",{className:"IconYouneed"},r.a.createElement("p",null,"You need ",s-l),r.a.createElement("div",{className:"money"}))),r.a.createElement("div",{className:"photo line"},r.a.createElement("img",{src:t})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"category"},n),r.a.createElement("div",{className:"name-product"},c," ",r.a.createElement("span",null,"cost: ",s))),s<=l&&r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"infoover"},r.a.createElement("h3",null,s),r.a.createElement("div",{className:"text",onClick:function(){return I({type:"eventRedeem",points:l,id:m})}},r.a.createElement("p",null,"Redeem Now")," ",r.a.createElement("div",{className:"money"})," "))))},R=n(76),Q=n(75);var Y=function(e,t){var n=Object(a.useState)(1),r=Object(o.a)(n,2),c=r[0],s=r[1],i=0;return null!=e&&(i=Math.ceil(e.length/t)),{next:function(){s((function(e){return Math.min(e+1,i)}))},prev:function(){s((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);s((function(e){return Math.min(t,i)}))},currentData:function(){var n=(c-1)*t,a=n+t;return null!=e?(console.log("DataNOesNull"),e.slice(n,a)):(console.log("Fuera del If"),[])},currentPage:c,maxPage:i}},P=function(){var e=Object(a.useContext)(i),t=e.user,n=e.setUser,c=0;null!=t&&(c=t.points);var s={m1000:!1,m5000:!1,m7500:!1,disabled:!0,points:c},l=Object(a.useCallback)(y,[]),u=Object(a.useReducer)(l,s),m=Object(o.a)(u,2),p=m[0],d=m[1],f=Object(a.useState)(1),E=Object(o.a)(f,2),g=E[0],h=E[1],b=p.m1000,j=p.m5000,O=p.m7500,A=p.disabled,I=null,N=0,C=null;null!=t&&(I=t.redeemHistory,N=Math.ceil(I.length/16));Object(a.useEffect)((function(){null!=t&&n(Object(v.a)(Object(v.a)({},t),{},{points:p.points}))}),[p]),C=Y(I,16);return r.a.createElement("div",null,r.a.createElement("div",{className:"container centered"},r.a.createElement("div",{className:"white "},r.a.createElement("div",{className:"white-form"},r.a.createElement("form",{className:"custom-form"},r.a.createElement("span",null,"1000 Points"),r.a.createElement("input",{id:"m1000",name:"m1000",type:"checkbox",checked:b,onChange:function(){return d({type:"eventChange",id:"m1000",points:c})}}),r.a.createElement("span",null,"5000 Points"),r.a.createElement("input",{id:"m5000",name:"m5000",type:"checkbox",checked:j,onChange:function(){return d({type:"eventChange",id:"m5000",points:c})}}),r.a.createElement("span",null,"7500 Points"),r.a.createElement("input",{id:"m7500",name:"m7500",type:"checkbox",checked:O,onChange:function(){return d({type:"eventChange",id:"m7500",points:c})}}),r.a.createElement("button",{disabled:A,className:"btn ".concat(A?"disabled":"active"),onClick:function(){return d({type:"handleChangePoints",points:c})}},"Add Points"))),r.a.createElement("div",{className:"history products"},r.a.createElement(R.a,{p:"5"},r.a.createElement("div",{className:"containerCards"},C.currentData().map((function(e){return r.a.createElement(B,{urlImages:e.img.url,category:e.category,name:e.name,date:e.createDate,cost:e.cost,redeem:!1})}))),r.a.createElement(Q.a,{count:N,size:"large",page:g,variant:"outlined",shape:"rounded",onChange:function(e,t){h(t),C.jump(t)}}))))))},X=n(41),V=n.n(X),z=n(42),W=n.n(z),H=function(){console.log("Modal");var e=Object(a.useContext)(U),t=e.modal,n=e.setModal,c="",s="";return null!=t&&(c=t.active,s=t.type),r.a.createElement("div",{class:"fondo_transparente ".concat(c?"active":"no-active")},r.a.createElement("div",{className:"modal"},"success"==s?r.a.createElement("div",{className:"interna ".concat(s)},r.a.createElement("img",{src:V.a}),r.a.createElement("h1",null,"Success!!"),r.a.createElement("p",null,"Yes! You wanted it, You got it!"),r.a.createElement("button",{className:"success",onClick:function(){return n({active:0,type:"wrong"})}},"CONTINUE!")):r.a.createElement("div",{className:"interna ".concat(s)},r.a.createElement("img",{src:W.a}),r.a.createElement("h1",null,"Error!!"),r.a.createElement("p",null,"Sorry! Something went wrong!"),r.a.createElement("button",{className:"wrong",onClick:function(){return n({active:0,type:"wrong"})}},"TRY AGAIN!"))))},D=function(){var e=Object(a.useContext)(i),t=e.user,n=(e.setUser,Object(a.useContext)(U)),c=n.products,s=(n.setProducts,Object(a.useContext)(U)),l=s.modal;s.setModal;console.log("MODAL",l);var u=Object(a.useState)(1),m=Object(o.a)(u,2),p=m[0],d=m[1],f=0,E=0,v=null;null!=c&&(f=Math.ceil(c.length/16)),null!=t&&(E=t.points),v=Y(c,16);return console.log("Products",c),console.log("User",t),r.a.createElement("div",{className:"history products"},r.a.createElement(R.a,{p:"5"},r.a.createElement("div",{className:"containerCards"},v.currentData().map((function(e){return r.a.createElement(B,{urlImages:e.img.url,category:e.category,name:e.name,date:e.createDate,cost:e.cost,points:E,redeem:1,id:e._id})}))),r.a.createElement(Q.a,{count:f,size:"large",page:p,variant:"outlined",shape:"rounded",onChange:function(e,t){d(t),v.jump(t)}})),r.a.createElement(H,null))},Z=function(){return r.a.createElement("main",{className:"main"},r.a.createElement(f.a,{basename:"/store-natalia-poveda"},r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",component:D,exact:!0}),r.a.createElement(E.a,{path:"/posts",component:P,exact:!0}))))};var G=function(){return r.a.createElement(u,null,r.a.createElement(S,null,r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(Z,null))))},K=document.getElementById("root");s.a.render(r.a.createElement(G,null),K)}},[[48,1,2]]]);
//# sourceMappingURL=main.49685d91.chunk.js.map